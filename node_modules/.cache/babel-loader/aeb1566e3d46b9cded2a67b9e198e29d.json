{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yogesh\\\\Desktop\\\\acomgit\\\\ecomgit\\\\ecommerce\\\\src\\\\components\\\\signup.js\",\n    _s = $RefreshSig$();\n\nimport { useForm } from \"../contexts/form-context\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { Statusjs } from \"./status\";\nimport { Username } from \"./username\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Signup(params) {\n  _s();\n\n  const {\n    formstate,\n    handlechangeforname,\n    handlechangeforusername,\n    handlechangeforpassword,\n    handlechangefornumber,\n    formdata,\n    status,\n    setStatus\n  } = useForm();\n  const buttondisability = formstate.username && formstate.password && formstate.number && formstate.name && !status ? true : false;\n  const dependance = formdata.username;\n\n  async function postreques(formdata) {\n    try {\n      const username = formdata.username;\n      const password = formdata.password;\n      const name = formdata.name;\n      const number = formdata.number;\n      const url = \"https://ecom-server--bleedblue.repl.co/user/signup\";\n      const postrequest = await axios.post(url, {\n        username,\n        password,\n        name,\n        mobileno: number\n      });\n      console.log(postrequest);\n    } catch (error) {\n      // console.log({\n      //   success: false,\n      //   errormessage: error.response.data.message,\n      //   error,\n      // });\n      console.log({\n        errorresponse: error.response.status\n      });\n\n      if (error.response.data.message === \"mobileno already taken\" && error.response.status === 400) {\n        console.log({\n          message: \"if wala\",\n          error: error.response.data.message\n        });\n      } else {\n        console.log({\n          message: \"else wala\",\n          error\n        });\n      }\n    }\n  }\n\n  useEffect(() => {\n    // console.log(\"entered useeffect\");\n    let source = axios.CancelToken.source();\n\n    const loadData = async state => {\n      // console.log(\"entered function\");\n      try {\n        const address = \"https://ecom-server.bleedblue.repl.co/user/checifuserispresent/\";\n        const response = await axios.post(address, {\n          username: dependance\n        }, {\n          cancelToken: source.token\n        }); // console.log(\"were here\");\n        // console.log({ response });\n\n        if (response.status === 200 && response.data.success) {\n          setStatus(response.data.success);\n        } else {\n          setStatus(false); // setState(\"\");\n        }\n      } catch (error) {\n        // if (!axios.isCancel(error)) {\n        //   console.log(\"something went wrong\");\n        // }\n        if (axios.isCancel(error)) {// console.log(\"AxiosCancel: caught cancel\");\n        } // else {\n        //   throw error;\n        // }\n\n      } // console.log(\"near if statemennts\");\n\n    };\n\n    if (dependance.length > 0) {\n      setStatus(false);\n      loadData(dependance);\n    }\n\n    if (dependance.length === 0) {\n      setStatus(false);\n    } // console.log(\"exitinguseeffect\");\n\n\n    return () => {\n      source.cancel();\n    };\n  }, [dependance, setStatus]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"opopo\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"align-form-elements\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"name\",\n          onChange: e => handlechangeforname(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Statusjs, {\n          checker: formstate.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"align-form-elements\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"username\",\n          onChange: e => handlechangeforusername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Statusjs, {\n          checker: formstate.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), dependance.length > 0 ? /*#__PURE__*/_jsxDEV(Username, {\n          status: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 36\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"align-form-elements\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"password\",\n          onChange: e => handlechangeforpassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Statusjs, {\n          checker: formstate.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"align-form-elements\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"number\",\n          onChange: e => handlechangefornumber(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Statusjs, {\n          checker: formstate.number\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => postreques(formdata),\n        disabled: !buttondisability,\n        children: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Signup, \"f7rumvNqRdQdUR7sgb7vb1VbycU=\", false, function () {\n  return [useForm];\n});\n\n_c = Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["C:/Users/Yogesh/Desktop/acomgit/ecomgit/ecommerce/src/components/signup.js"],"names":["useForm","axios","useEffect","Statusjs","Username","Signup","params","formstate","handlechangeforname","handlechangeforusername","handlechangeforpassword","handlechangefornumber","formdata","status","setStatus","buttondisability","username","password","number","name","dependance","postreques","url","postrequest","post","mobileno","console","log","error","errorresponse","response","data","message","source","CancelToken","loadData","state","address","cancelToken","token","success","isCancel","length","cancel","e","target","value"],"mappings":"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","sourcesContent":["import { useForm } from \"../contexts/form-context\";\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { Statusjs } from \"./status\";\r\nimport { Username } from \"./username\";\r\nexport function Signup(params) {\r\n  const {\r\n    formstate,\r\n    handlechangeforname,\r\n    handlechangeforusername,\r\n    handlechangeforpassword,\r\n    handlechangefornumber,\r\n    formdata,\r\n    status,\r\n    setStatus,\r\n  } = useForm();\r\n  const buttondisability =\r\n    formstate.username &&\r\n    formstate.password &&\r\n    formstate.number &&\r\n    formstate.name &&\r\n    !status\r\n      ? true\r\n      : false;\r\n  const dependance = formdata.username;\r\n  async function postreques(formdata) {\r\n    try {\r\n      const username = formdata.username;\r\n      const password = formdata.password;\r\n      const name = formdata.name;\r\n      const number = formdata.number;\r\n      const url = \"https://ecom-server--bleedblue.repl.co/user/signup\";\r\n      const postrequest = await axios.post(url, {\r\n        username,\r\n        password,\r\n        name,\r\n        mobileno: number,\r\n      });\r\n      console.log(postrequest);\r\n    } catch (error) {\r\n      // console.log({\r\n      //   success: false,\r\n      //   errormessage: error.response.data.message,\r\n      //   error,\r\n      // });\r\n      console.log({ errorresponse: error.response.status });\r\n      if (\r\n        error.response.data.message === \"mobileno already taken\" &&\r\n        error.response.status === 400\r\n      ) {\r\n        console.log({\r\n          message: \"if wala\",\r\n          error: error.response.data.message,\r\n        });\r\n      } else {\r\n        console.log({ message: \"else wala\", error });\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // console.log(\"entered useeffect\");\r\n    let source = axios.CancelToken.source();\r\n    const loadData = async (state) => {\r\n      // console.log(\"entered function\");\r\n      try {\r\n        const address =\r\n          \"https://ecom-server.bleedblue.repl.co/user/checifuserispresent/\";\r\n        const response = await axios.post(\r\n          address,\r\n          {\r\n            username: dependance,\r\n          },\r\n          {\r\n            cancelToken: source.token,\r\n          }\r\n        );\r\n        // console.log(\"were here\");\r\n        // console.log({ response });\r\n        if (response.status === 200 && response.data.success) {\r\n          setStatus(response.data.success);\r\n        } else {\r\n          setStatus(false);\r\n          // setState(\"\");\r\n        }\r\n      } catch (error) {\r\n        // if (!axios.isCancel(error)) {\r\n        //   console.log(\"something went wrong\");\r\n        // }\r\n        if (axios.isCancel(error)) {\r\n          // console.log(\"AxiosCancel: caught cancel\");\r\n        }\r\n        // else {\r\n        //   throw error;\r\n        // }\r\n      }\r\n      // console.log(\"near if statemennts\");\r\n    };\r\n    if (dependance.length > 0) {\r\n      setStatus(false);\r\n      loadData(dependance);\r\n    }\r\n    if (dependance.length === 0) {\r\n      setStatus(false);\r\n    }\r\n    // console.log(\"exitinguseeffect\");\r\n\r\n    return () => {\r\n      source.cancel();\r\n    };\r\n  }, [dependance, setStatus]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"opopo\">\r\n        <div className=\"align-form-elements\">\r\n          <input\r\n            placeholder=\"name\"\r\n            onChange={(e) => handlechangeforname(e.target.value)}\r\n          />\r\n          &nbsp;\r\n          <Statusjs checker={formstate.name} />\r\n        </div>\r\n\r\n        <div className=\"align-form-elements\">\r\n          <input\r\n            placeholder=\"username\"\r\n            onChange={(e) => handlechangeforusername(e.target.value)}\r\n          />\r\n          &nbsp;\r\n          <Statusjs checker={formstate.username} />\r\n          {dependance.length > 0 ? <Username status={status} /> : null}\r\n        </div>\r\n\r\n        <div className=\"align-form-elements\">\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"password\"\r\n            onChange={(e) => handlechangeforpassword(e.target.value)}\r\n          />\r\n          &nbsp;\r\n          <Statusjs checker={formstate.password} />\r\n        </div>\r\n\r\n        <div className=\"align-form-elements\">\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"number\"\r\n            onChange={(e) => handlechangefornumber(e.target.value)}\r\n          />\r\n          &nbsp;\r\n          <Statusjs checker={formstate.number} />\r\n        </div>\r\n        <button\r\n          onClick={() => postreques(formdata)}\r\n          disabled={!buttondisability}\r\n        >\r\n          submit\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}